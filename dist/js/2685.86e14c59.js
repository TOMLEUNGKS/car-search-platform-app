"use strict";(self["webpackChunkionic_car_trading"]=self["webpackChunkionic_car_trading"]||[]).push([[2685],{7456:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(2262);const a=(0,r.qj)({lastname:null,firstname:null,email:null,phoneNumber:null,secPhoneNUmber:null});function l(e,t){a[e]=t}function o(e){a[e]=null}function s(){for(const e in a)o(e)}function c(e){return a[e]}function i(e){return null==a[e]}function u(e){for(const t in e)if(i(t))return!0;return!1}const d=(0,r.qj)({invalidity:!0});function p(e){return d.invalidity=e,d.invalidity}function f(){return d.invalidity}function m(e,t){return a[e]==t}function g(){return{_carSellContact:a,setCarSellContactValue:l,getCarSellContactValue:c,resetCarSellContactValue:o,resetCarSellContactsValue:s,isNullCarSellContactByCate:i,isNullCarSellContacts:u,findValueFromCate:m,contactDataAreValid:d,contactDataInvalidity:p,returnContactInvalidity:f}}},1098:function(e,t,n){n.d(t,{Z:function(){return Z}});var r=n(2262),a=n(5052),l=n(5586),o=n(7456);const{_carSellContact:s}=(0,o.Z)(),{getAuthUser:c}=(0,a.Z)(),i=(0,r.qj)({imgs:[],car_id:null,dealerID:null,"Listing Price":null,"Factory options":null,"Aftermarket options":null,Location:null,mileage:null,isRegister:!0,"Expired Date":null,"VIN number":null,"Exterior Colour":null,"Manufactor Listed Colour":null,"Interior Colour":null,"Seller type":null,services:[],Comments:null,front_rim:null,rear_rim:null,front_tyre:null,rear_tyre:null,tyre_model:null,built_year:null,transmission:null});function u(e,t){i[e]=t}function d(e){i[e]=null}function p(){for(const e in i)d(e)}function f(e){return console.log(e),i[e]}function m(e){return null==i[e]}function g(e){for(const t in e)if(m(t))return!0;return!1}const y=(0,r.qj)({invalidity:!0});function S(e){return y.invalidity=e,y.invalidity}function w(){return y.invalidity}function C(e,t){return i[e]==t}function v(){const e=new FormData;e.append("dealerID",c.value.uid),console.log(i);for(const t in i)Array.isArray(i[t])?i[t].length>0&&i[t].forEach((n=>{e.append(t,n)})):i[t]&&e.append(t,i[t]);for(const t in s)s[t]&&e.append(t,s[t]);return e}async function _(){const e=e=>[...e].reduce(((e,[t,n])=>e+("string"===typeof n?n.length:n.size)),0),t=v();console.log("formdata size %i Bytes",e(t));const n=await(0,l.Z)(!1)("/api/car-posts",{method:"POST",body:t});console.log(n);const{success:r,data:a,message:o}=n;return r?(console.log(a),i.post_id=a.post_id):console.log(o),{success:r,message:o}}async function h(e){const t=await(0,l.Z)()("/confirm-payment/"+e,{method:"POST"}),{success:n}=t;return n}function Z(){return{setCarSellPostValue:u,getCarSellPostValue:f,resetCarSellPostValue:d,resetCarSellPostsValue:p,isNullCarSellPostByCate:m,isNullCarSellPosts:g,findValueFromCate:C,createPost:_,confirmPayment:h,formDataInvalidity:S,returnFormInvalidity:w}}},9732:function(e,t,n){function r(e){const t=e.split(" ");return t.map((e=>e[0].toUpperCase())).join("")}function a(e,t){const n=e*Math.pow(10,t+1),r=Math.floor(n/10);return n>=10*r+5?(r+1)/Math.pow(10,t):r/Math.pow(10,t)}function l(e){const t=e.split(" ");for(let r=0;r<t.length;r++)t[r]=t[r].charAt(0).toUpperCase()+t[r].slice(1);const n=t.join(" ");return n}n.d(t,{AL:function(){return l},Go:function(){return s},L6:function(){return o},OV:function(){return r},qN:function(){return a}});const o=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0});function s(e,t,n,r=!1,a=!0,l=!0){const o=[];if(a&&o.push({value:null,label:"Select range"}),r)for(let s=t;s>=e;s-=n)o.push({value:s,label:s.toString()});else for(let s=e;s<=t;s+=n)o.push({value:s,label:s.toString()});return l&&o.push({value:"custom",label:"Custom input"}),[o]}},1221:function(e,t,n){n.d(t,{V:function(){return l}});var r=n(9876),a=n(5586);const l=(0,r.Q_)("modelStore",{state:()=>({modelDetailsList:[]}),getters:{getModelDetailsOptions:e=>t=>{const n=e.modelDetailsList.filter((e=>e.parent_cat_id==t));return n},getModelDetails:e=>t=>{const n=e.modelDetailsList.find((e=>e.name==t));return n}},actions:{async fetchModelDetails(e,t){try{const n=await(0,a.Z)()("/api/options/car-model/"+t),{success:r,data:l,message:o}=n;let s=0;if(console.log(l),r){const t=l.map((t=>({...t,cat_id:`${e}${s++}`,parent_cat_id:e})));return this.modelDetailsList.push(...t),t}}catch(n){console.log(n)}}}})},6e3:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(3181),a=n(1989),l=n(6252);function o(e,t,n,o,s,c){const i=a.Xz,u=r.o5,d=r.tq;return(0,l.wg)(),(0,l.j4)(d,{pagination:!0,modules:e.modules,class:"max-w-screen"},{default:(0,l.w5)((()=>[0==e.carImgsData.length?((0,l.wg)(),(0,l.j4)(u,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{src:"/assets/imgs/not-found-image.jpg"},null,8,["src"])])),_:1})):((0,l.wg)(!0),(0,l.iD)(l.HY,{key:1},(0,l.Ko)(e.carImgsData,((t,n)=>((0,l.wg)(),(0,l.j4)(u,{key:t},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{src:t,onIonError:t=>e.carImgsData[n]="/assets/imgs/not-found-image.jpg"},null,8,["src","onIonError"])])),_:2},1024)))),128))])),_:1},8,["modules"])}var s=n(2262),c=(n(6162),n(1911)),i=(0,l.aZ)({name:"ImgsSlider",components:{Swiper:r.tq,SwiperSlide:r.o5},props:{carImgs:{type:Array,required:!0}},setup(e){const t=(0,s.iH)([...e.carImgs]);return{modules:[c.tl],carImgsData:t}}}),u=n(3744);const d=(0,u.Z)(i,[["render",o],["__scopeId","data-v-7476ab1c"]]);var p=d},9791:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(1989),a=n(6252),l=n(3577);const o={class:"w-full flex items-center h-20"};function s(e,t,n,s,c,i){const u=r.YG;return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(u,{class:"w-full font-semibold text-center rounded-xl px-4 h-4/5",disabled:e.disabled,onClick:t[0]||(t[0]=t=>e.$emit("proceed"))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.$t(e.title)),1)])),_:1},8,["disabled"])])}var c=(0,a.aZ)({name:"BaseBtn",props:{title:{type:String,required:!0},disabled:{type:Boolean}},setup(e){return{}}}),i=n(3744);const u=(0,i.Z)(c,[["render",s],["__scopeId","data-v-2c9e70f2"]]);var d=u},7222:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(6252),a=n(2262),l=n(5586),o=(0,r.aZ)({props:["type","id"],async setup(e){let t,n;const o=e,s=async()=>{const e="/api/"+o.type+"/img/"+o.id,t=await(0,l.Z)(!1)(e),{success:n,data:r,message:a}=t;if(n)return r;console.log(a)},{imgs:c,urls:i}=([t,n]=(0,r.mv)((()=>s())),t=await t,n(),t);return(e,t)=>(0,r.WI)(e.$slots,"default",{urls:(0,a.SU)(i),imgs:(0,a.SU)(c)})}});const s=o;var c=s},7996:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(6252),a=n(3577);function l(e,t,n,l,o,s){return(0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.range,(t=>(0,r.WI)(e.$slots,"default",{key:t,current:t+1,selected:e.isSelected(t+1),setValueIdx:e.setValueIdx,getValue:e.getValue,optionList:e.optionList},(()=>[(0,r.Uk)((0,a.zw)(t),1)])))),128)}var o=n(2262),s=n(1098),c=(0,r.aZ)({name:"SellCarPostSelctManager",props:["options","attr"],setup(e){let{options:t}=(0,o.BK)(e),n=(0,o.iH)(t.value);t.value[0]instanceof Object&&(n.value=t.value.map((e=>e.title)),console.log(n.value));const{setCarSellPostValue:a,resetCarSellPostValue:l,getCarSellPostValue:c}=(0,s.Z)(),i=(0,r.Fl)((()=>c(e.attr))),u=(0,o.iH)(n.value.indexOf(i.value)+1),d=(0,r.Fl)((()=>[...Array(n.value.length).keys()])),p=e=>u.value==e,f=t=>{t!==u.value?(a(e.attr,n.value[t-1]),u.value=t):(l(e.attr),u.value=0)};return{valueIdx:u,range:d,isSelected:p,setValueIdx:f,getValue:i,optionList:n}}}),i=n(3744);const u=(0,i.Z)(c,[["render",l]]);var d=u},6207:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var r=n(7115),a=n(1989),l=n(7996),o=n(6252),s=n(9963),c=n(3577);const i={class:"grid grid-cols-2 justify-center list-disc"},u={key:0},d={key:1},p={key:0},f={key:1},m={key:2},g={key:2},y={key:0},S={key:3};function w(e,t,n,r,l,w){const C=a.Dq,v=a.Zi,_=a.FN,h=a.PM;return(0,o.wg)(),(0,o.j4)(h,{class:"m-0 sm:w-full md:w-80 ion-activatable",onClick:t[0]||(t[0]=(0,s.iM)((t=>e.$emit("toCarPost")),["stop"]))},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"img"),(0,o.Wm)(v,{class:"pb-2 pl-3"},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{class:"font-bold text-xl flex justify-between"},{default:(0,o.w5)((()=>[(0,o._)("span",null,(0,c.zw)(e.title),1)])),_:1})])),_:1}),(0,o.Wm)(_,{class:"border-t"},{default:(0,o.w5)((()=>[(0,o._)("div",i,[e.carSpec.model["body-type"]?((0,o.wg)(),(0,o.iD)("li",u,(0,c.zw)(e.$t(e.carSpec.model["body-type"])),1)):(0,o.kq)("",!0),e.carSpec["Cylinder"]||e.carSpec["Engine Size"]||e.carSpec["Fuel type"]?((0,o.wg)(),(0,o.iD)("li",d,[e.carSpec["Cylinder"]?((0,o.wg)(),(0,o.iD)("span",p,(0,c.zw)(e.carSpec["Cylinder"])+"cyl ",1)):(0,o.kq)("",!0),e.carSpec["Engine Size"]?((0,o.wg)(),(0,o.iD)("span",f,(0,c.zw)(e.roundOf(e.carSpec["Engine Size"]/1e3,1).toFixed(1))+"L ",1)):(0,o.kq)("",!0),e.carSpec["Fuel type"]?((0,o.wg)(),(0,o.iD)("span",m," T "+(0,c.zw)(e.carSpec["Fuel type"]),1)):(0,o.kq)("",!0)])):(0,o.kq)("",!0),e.carSpec["Horsepower"]?((0,o.wg)(),(0,o.iD)("li",g,[e.carSpec["Horsepower"]?((0,o.wg)(),(0,o.iD)("span",y,(0,c.zw)(Math.round(e.carSpec["Horsepower"]))+"hp ",1)):(0,o.kq)("",!0)])):(0,o.kq)("",!0),e.carSpec["Air Induction"]?((0,o.wg)(),(0,o.iD)("li",S,(0,c.zw)(e.$t(e.carSpec["Air Induction"])),1)):(0,o.kq)("",!0)]),(0,o.WI)(e.$slots,"default")])),_:3})])),_:3})}var C=n(9732),v=(0,o.aZ)({name:"CarCard",components:{IonCardHeader:a.Zi,IonCardTitle:a.Dq,IonCardContent:a.FN},props:{carSpec:{type:Object,required:!0},title:{type:String}},setup(e){return{roundOf:C.qN}}}),_=n(3744);const h=(0,_.Z)(v,[["render",w]]);var Z,I=h,k=n(9791),D=n(7222),b=n(6e3);function V(e,t,n,r,a,s){const c=b.Z,i=D.Z,u=k.Z,d=I,p=l.Z;return(0,o.wg)(),(0,o.j4)(p,{options:e.searchResult.map((e=>e.car_id)),attr:"car_id"},{default:(0,o.w5)((({current:t,setValueIdx:n})=>[(0,o.Wm)(d,{title:e.searchResult[t-1].name,carSpec:e.searchResult[t-1]},{img:(0,o.w5)((()=>[(0,o.Wm)(i,{type:"car-specs",id:e.searchResult[t-1].car_id},{default:(0,o.w5)((({urls:e})=>[(0,o.Wm)(c,{carImgs:e},null,8,["carImgs"])])),_:2},1032,["id"])])),default:(0,o.w5)((()=>[(0,o.Wm)(u,{title:"SELECT",class:"mt-4",onClick:r=>{e.$router.push("/tabs/sell-car/car-photo"),n(t)}},null,8,["onClick"])])),_:2},1032,["title","carSpec"])])),_:1},8,["options"])}(function(e){e["car"]="car",e["post"]="post"})(Z||(Z={}));var q=n(7609),j=n(1221),L=n(9876),P=n(5586);const W=(0,L.Q_)("carSpecsStore",{state:()=>({carSpecsList:[]}),getters:{getCarSpecs:e=>t=>{const n=e.carSpecsList.filter((e=>e.parent_cat_id==t));return n}},actions:{async fetchCarSpecs(e,t){try{const n=await(0,P.Z)()("/api/car-specs/model/"+t),{success:r,data:a,message:l}=n;let o=0;if(console.log(a),r){const t=a.map((t=>({...t,cat_id:`${e}${o++}`,parent_cat_id:e})));return this.carSpecsList.push(...t),t}}catch(n){console.log(n)}}}});var x=(0,o.aZ)({components:{BaseBtn:k.Z,CarCard:I,SellCarPostSelectManager:l.Z,ImgsSlider:b.Z,ImgManager:D.Z},async setup(){const{getCarSellFilterValue:e}=(0,q.Z)(),t=(0,j.V)(),n=W(),r=e("built year"),a=t.getModelDetails(r);let l=n.getCarSpecs(a.cat_id);return 0==l.length&&(l=await n.fetchCarSpecs(a.cat_id,a.model_id)),console.log(l),{searchResult:l,cardTypeOptions:Z}}});const z=(0,_.Z)(x,[["render",V]]);var F=z;function M(e,t,n,l,s,i){const u=a.wd,d=a.yh,p=F,f=a.wh,m=a.q_,g=r.Z;return(0,o.wg)(),(0,o.j4)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{size:"large",class:"pl-2 font-bold mt-4"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,c.zw)(e.$t("Select car")),1)])),_:1})])),_:1}),((0,o.wg)(),(0,o.j4)(o.n4,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),fallback:(0,o.w5)((()=>[(0,o.Wm)(f)])),_:1}))])),_:1})])),_:1})}var $=(0,o.aZ)({components:{BaseBackLayout:r.Z,CarSelectSearchResult:F,IonLoading:a.wh}});const N=(0,_.Z)($,[["render",M]]);var A=N}}]);
//# sourceMappingURL=2685.86e14c59.js.map