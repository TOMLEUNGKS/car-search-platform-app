"use strict";(self["webpackChunkionic_car_trading"]=self["webpackChunkionic_car_trading"]||[]).push([[2582],{7439:function(t,e,n){var l,a,o;n.d(e,{GW:function(){return a},dk:function(){return o},oK:function(){return l}}),function(t){t["Prompt"]="PROMPT",t["Camera"]="CAMERA",t["Photos"]="PHOTOS"}(l||(l={})),function(t){t["Rear"]="REAR",t["Front"]="FRONT"}(a||(a={})),function(t){t["Uri"]="uri",t["Base64"]="base64",t["DataUrl"]="dataUrl"}(o||(o={}))},6826:function(t,e,n){n.d(e,{V1:function(){return o},dk:function(){return a.dk}});var l=n(9895),a=n(7439);const o=(0,l.fo)("Camera",{web:()=>n.e(6806).then(n.bind(n,6806)).then((t=>new t.CameraWeb))})},4406:function(t,e,n){n.d(e,{fy:function(){return r}});var l,a,o=n(9895);(function(t){t["Documents"]="DOCUMENTS",t["Data"]="DATA",t["Library"]="LIBRARY",t["Cache"]="CACHE",t["External"]="EXTERNAL",t["ExternalStorage"]="EXTERNAL_STORAGE"})(l||(l={})),function(t){t["UTF8"]="utf8",t["ASCII"]="ascii",t["UTF16"]="utf16"}(a||(a={}));const r=(0,o.fo)("Filesystem",{web:()=>n.e(3176).then(n.bind(n,3176)).then((t=>new t.FilesystemWeb))})},7456:function(t,e,n){n.d(e,{Z:function(){return g}});var l=n(2262);const a=(0,l.qj)({lastname:null,firstname:null,email:null,phoneNumber:null,secPhoneNUmber:null});function o(t,e){a[t]=e}function r(t){a[t]=null}function i(){for(const t in a)r(t)}function u(t){return a[t]}function s(t){return null==a[t]}function c(t){for(const e in t)if(s(e))return!0;return!1}const d=(0,l.qj)({invalidity:!0});function f(t){return d.invalidity=t,d.invalidity}function m(){return d.invalidity}function p(t,e){return a[t]==e}function g(){return{_carSellContact:a,setCarSellContactValue:o,getCarSellContactValue:u,resetCarSellContactValue:r,resetCarSellContactsValue:i,isNullCarSellContactByCate:s,isNullCarSellContacts:c,findValueFromCate:p,contactDataAreValid:d,contactDataInvalidity:f,returnContactInvalidity:m}}},1098:function(t,e,n){n.d(e,{Z:function(){return _}});var l=n(2262),a=n(5052),o=n(5586),r=n(7456);const{_carSellContact:i}=(0,r.Z)(),{getAuthUser:u}=(0,a.Z)(),s=(0,l.qj)({imgs:[],car_id:null,dealerID:null,"Listing Price":null,"Factory options":null,"Aftermarket options":null,Location:null,mileage:null,isRegister:!0,"Expired Date":null,"VIN number":null,"Exterior Colour":null,"Manufactor Listed Colour":null,"Interior Colour":null,"Seller type":null,services:[],Comments:null,front_rim:null,rear_rim:null,front_tyre:null,rear_tyre:null,tyre_model:null,built_year:null,transmission:null});function c(t,e){s[t]=e}function d(t){s[t]=null}function f(){for(const t in s)d(t)}function m(t){return console.log(t),s[t]}function p(t){return null==s[t]}function g(t){for(const e in t)if(p(e))return!0;return!1}const y=(0,l.qj)({invalidity:!0});function h(t){return y.invalidity=t,y.invalidity}function C(){return y.invalidity}function v(t,e){return s[t]==e}function b(){const t=new FormData;t.append("dealerID",u.value.uid),console.log(s);for(const e in s)Array.isArray(s[e])?s[e].length>0&&s[e].forEach((n=>{t.append(e,n)})):s[e]&&t.append(e,s[e]);for(const e in i)i[e]&&t.append(e,i[e]);return t}async function w(){const t=t=>[...t].reduce(((t,[e,n])=>t+("string"===typeof n?n.length:n.size)),0),e=b();console.log("formdata size %i Bytes",t(e));const n=await(0,o.Z)(!1)("/api/car-posts",{method:"POST",body:e});console.log(n);const{success:l,data:a,message:r}=n;return l?(console.log(a),s.post_id=a.post_id):console.log(r),{success:l,message:r}}async function k(t){const e=await(0,o.Z)()("/confirm-payment/"+t,{method:"POST"}),{success:n}=e;return n}function _(){return{setCarSellPostValue:c,getCarSellPostValue:m,resetCarSellPostValue:d,resetCarSellPostsValue:f,isNullCarSellPostByCate:p,isNullCarSellPosts:g,findValueFromCate:v,createPost:w,confirmPayment:k,formDataInvalidity:h,returnFormInvalidity:C}}},9791:function(t,e,n){n.d(e,{Z:function(){return d}});var l=n(1989),a=n(6252),o=n(3577);const r={class:"w-full flex items-center h-20"};function i(t,e,n,i,u,s){const c=l.YG;return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(c,{class:"w-full font-semibold text-center rounded-xl px-4 h-4/5",disabled:t.disabled,onClick:e[0]||(e[0]=e=>t.$emit("proceed"))},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(t.$t(t.title)),1)])),_:1},8,["disabled"])])}var u=(0,a.aZ)({name:"BaseBtn",props:{title:{type:String,required:!0},disabled:{type:Boolean}},setup(t){return{}}}),s=n(3744);const c=(0,s.Z)(u,[["render",i],["__scopeId","data-v-2c9e70f2"]]);var d=c},2582:function(t,e,n){n.r(e),n.d(e,{default:function(){return _}});var l=n(7115),a=n(1989),o=n(9791),r=n(6252),i=n(3577);const u={class:"grid grid-cols-2 grid-rows-3 gap-y-4 gap-x-2 justify-items-center h-2/3 mt-4 mx-2"},s=["src"],c=["onClick"];function d(t,e,n,d,f,m){const p=a.wd,g=a.yh,y=a.Q$,h=(0,r.up)("font-awesome-icon"),C=a.YG,v=o.Z,b=a.q_,w=l.Z;return(0,r.wg)(),(0,r.j4)(w,null,{default:(0,r.w5)((()=>[(0,r.Wm)(b,{class:"h-full"},{default:(0,r.w5)((()=>[(0,r.Wm)(g,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,{size:"large",class:"pl-2 font-bold mt-4"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(t.$t("Car photos")),1)])),_:1})])),_:1}),(0,r.Wm)(y,{class:"text-sm text-gray-400 ml-6"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,i.zw)(t.$t("upload photos of your car")),1)])),_:1}),(0,r._)("div",u,[(0,r.Wm)(C,{onClick:t.takePhoto,color:"light",class:"w-full h-full m-0"},{default:(0,r.w5)((()=>[t.isMobile?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("input",{key:0,type:"file",class:"absolute w-full h-full opacity-0",accept:"image/*",onChange:e[0]||(e[0]=e=>t.filesChange(e.target.files))},null,32)),(0,r.Wm)(h,{class:"text-primary text-2xl",icon:["fas","fa-plus"]})])),_:1},8,["onClick"]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(Array(5).keys(),(e=>((0,r.wg)(),(0,r.iD)("div",{key:e,class:"border border-gray-300 rounded-large w-full h-full relative"},[e<t.imagesURL.value.length?((0,r.wg)(),(0,r.iD)("img",{key:0,src:t.imagesURL.value[e],class:"max-w-full max-h-full rounded-large -translate-x-1/2 absolute left-1/2"},null,8,s)):(0,r.kq)("",!0),e<t.imagesURL.value.length?((0,r.wg)(),(0,r.iD)("div",{key:1,class:"absolute top-0 right-0 pr-2 rounded-full font-semibold bg-red",onClick:n=>t.cancelPhoto(e)},[(0,r.Wm)(h,{class:"text-sm px- rounded-full cursor-pointer text-red-500",icon:["fas","xmark"]})],8,c)):(0,r.kq)("",!0)])))),128))]),(0,r.Wm)(v,{title:"NEXT",onProceed:e[1]||(e[1]=e=>t.$router.push("/tabs/sell-car/car-additional")),disabled:t.disabled},null,8,["disabled"])])),_:1})])),_:1})}var f=n(2262),m=n(1098),p=n(6826),g=n(4406),y=n(5241),h=n(381),C=n.n(h),v=(0,r.aZ)({components:{BaseBackLayout:l.Z,BaseBtn:o.Z},setup(){const{setCarSellPostValue:t}=(0,m.Z)(),e=(0,f.qj)({value:[]}),n=(0,f.qj)({value:[]}),l=(0,y.a)("mobile"),a=l=>{const a=l[0],o=URL.createObjectURL(a);e.value.push(a),n.value.push(o),t("imgs",e.value)},o=async()=>{if(l){const l=await p.V1.getPhoto({quality:90,resultType:p.dk.Uri});console.log(l);const a=l.webPath,o=l.path,r=await g.fy.readFile({path:o}),i=await b(r.data),u=o.split("/")[o.split("/").length-1],s=new File([i],u,{lastModified:C()().unix(),type:l.format});a&&(e.value.push(s),n.value.push(a),t("imgs",e.value))}},i=(0,r.Fl)((()=>0==n.value.length)),u=l=>{e.value.splice(l,1),n.value.splice(l,1),t("imgs",e.value)};return{uploadedFiles:e,imagesURL:n,filesChange:a,takePhoto:o,isMobile:l,disabled:i,cancelPhoto:u}}});const b=(t,e="application/octet-stream")=>fetch(`data:${e};base64,${t}`).then((t=>t.blob()));var w=n(3744);const k=(0,w.Z)(v,[["render",d],["__scopeId","data-v-72de94d0"]]);var _=k}}]);
//# sourceMappingURL=2582.63a659c0.js.map