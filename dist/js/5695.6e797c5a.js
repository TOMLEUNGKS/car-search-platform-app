"use strict";(self["webpackChunkionic_car_trading"]=self["webpackChunkionic_car_trading"]||[]).push([[5695],{2255:function(e,t,a){a.d(t,{Z:function(){return f}});a(6699);var s=a(2262),r=a(5052),n=a(7724);const{getAuthUser:u}=(0,r.Z)(),l=u,c=(0,s.qj)({chatId:"null",user:{uid:""}}),o=(0,s.iH)([]);function i(e){return o.value.filter((t=>t[1].userInfo.displayName.includes(e)))}async function d(e){const t=await(0,n.it)(u.value.uid,e);console.log(t),h(t[1].userInfo)}function h(e){c.chatId=l.value.uid>e.uid?l.value.uid+e.uid:e.uid+l.value.uid,c.user=e}function f(){return{chatState:c,userChats:o,setChatState:h,filterUserChats:i,setChatStateByUserId:d}}},2387:function(e,t,a){a.d(t,{Z:function(){return c}});var s=a(1989),r=a(6252),n=(0,r.aZ)({props:["src","alt"],setup(e){return(t,a)=>{const n=s.Xz;return(0,r.wg)(),(0,r.j4)(n,{alt:e.alt,src:e.src},null,8,["alt","src"])}}}),u=a(3744);const l=(0,u.Z)(n,[["__scopeId","data-v-7c013d27"]]);var c=l},5695:function(e,t,a){a.r(t),a.d(t,{default:function(){return Y}});var s=a(7115),r=a(6252);function n(e,t,a,n,u,l){const c=s.Z;return(0,r.wg)(),(0,r.j4)(c,null,{default:(0,r.w5)((()=>[(0,r.WI)(e.$slots,"default")])),_:3})}var u=a(5241),l=(0,r.aZ)({components:{BaseBackLayout:s.Z},setup(){return{isPlatform:u.a}}}),c=a(3744);const o=(0,c.Z)(l,[["render",n]]);var i=o,d=a(1989);function h(e,t,a,s,n,u){return(0,r.WI)(e.$slots,"default")}var f=a(2255),p=a(7724),v=a(5052),m=(0,r.aZ)({async setup(e){const{userChats:t}=(0,f.Z)(),{getAuthUser:a}=(0,v.Z)(),s=await(0,p.ZS)(a.value.uid);return t.value=s,{}}});const w=(0,c.Z)(m,[["render",h]]);var g=w,Z=a(2387),x=a(2262),_=a(3577),C=a(381),y=a.n(C),I=a(2119);const U=["onClick"],T={class:"userChatInfo w-full"},k={class:"font-medium"},S={class:"flex justify-between"},V={class:"text-gray-500 text-sm"},W={class:"text-gray-500 text-sm"};var j=(0,r.aZ)({props:["searchText"],setup(e){const t=e,a=(0,I.tv)(),s=(0,x.Vh)(t,"searchText");(0,r.YP)(s,(e=>{c(e)}));const{userChats:n,filterUserChats:u}=(0,f.Z)();let l=(0,x.iH)(n.value);const c=e=>{l.value=e?u(e):n.value},o=e=>{a.push("/message/"+e.uid)};return(e,t)=>{const a=Z.Z;return(0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,x.SU)(l),(e=>((0,r.wg)(),(0,r.iD)("div",{key:e[0],onClick:t=>o(e[1].userInfo),class:"userChat p-4 flex items-center gap-4 cursor-pointer hover:bg-gray-200"},[(0,r.Wm)(a,{src:e[1].userInfo.photoURL,alt:""},null,8,["src"]),(0,r._)("div",T,[(0,r._)("span",k,(0,_.zw)(e[1].userInfo.displayName),1),(0,r._)("div",S,[(0,r._)("p",V,(0,_.zw)(e[1].lastMessage?.text),1),(0,r._)("p",W,(0,_.zw)((0,x.SU)(y())(e[1].date.toDate()).format("DD MMM HH:mm")),1)])])],8,U)))),128)}}});const D=j;var H=D;function b(e,t,a,s,n,u){const l=(0,r.up)("ChatsSearchBar"),c=H,o=g,h=d.wh,f=i;return(0,r.wg)(),(0,r.j4)(f,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:e.searchText,"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchText=t)},null,8,["modelValue"]),((0,r.wg)(),(0,r.j4)(r.n4,null,{default:(0,r.w5)((()=>[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[(0,r.Wm)(c,{searchText:e.searchText},null,8,["searchText"])])),_:1})])),fallback:(0,r.w5)((()=>[(0,r.Wm)(h)])),_:1}))])),_:1})}var B=a(9963);const M={class:"searchForm p-4"},z=["placeholder"];function L(e,t,a,s,n,u){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",M,[(0,r.wy)((0,r._)("input",{class:"outline-none w-full",type:"text",placeholder:e.$t("Find a user"),"onUpdate:modelValue":t[0]||(t[0]=t=>e.searchText=t)},null,8,z),[[B.nr,e.searchText]])])])}var F=(0,r.aZ)({props:{modelValue:String},setup(e,{emit:t}){const a=(0,r.Fl)({get:()=>e.modelValue,set:e=>t("update:modelValue",e)});return{searchText:a}}});const $=(0,c.Z)(F,[["render",L],["__scopeId","data-v-ee235426"]]);var A=$,N=(0,r.aZ)({components:{ChatsLayout:i,UsersContainer:H,ChatsSearchBar:A,IonLoading:d.wh,UserChatManager:g},setup(){const e=(0,x.iH)("");return{searchText:e}}});const P=(0,c.Z)(N,[["render",b]]);var Y=P}}]);
//# sourceMappingURL=5695.6e797c5a.js.map