{"version":3,"file":"js/8906.24994fb5.js","mappings":"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","sources":["webpack://ionic-car-trading/./src/hooks/sell/useSellCarFilterOptions.ts","webpack://ionic-car-trading/./src/stores/brandStore.ts","webpack://ionic-car-trading/./src/stores/modelStore.ts","webpack://ionic-car-trading/./src/components/Common/ListSelectItem.vue?4ecd","webpack://ionic-car-trading/./src/components/Common/ListSelectItem.vue","webpack://ionic-car-trading/./src/components/Common/ListSelectItem.vue?6969","webpack://ionic-car-trading/./src/functional/SellCarFilterSelectManager.vue?b93c","webpack://ionic-car-trading/./src/functional/SellCarFilterSelectManager.vue","webpack://ionic-car-trading/./src/functional/SellCarFilterSelectManager.vue?282d"],"sourcesContent":["import { ref, watch, computed, reactive } from \"vue\";\n\nimport baseOptions from \"@/seeds/baseOptions.json\";\nimport { useBrandStore } from \"@/stores/brandStore\";\nimport { useModelStore } from \"@/stores/modelStore\";\nimport { Category } from \"@/model/SearchCar\";\nimport useSellCarFilter from \"@/hooks/sell/useSellCarFilter\";\n\nconst brandStore = useBrandStore();\nconst modelStore = useModelStore();\nconst { getCarSellFilterValue } = useSellCarFilter();\nfunction getCarSellFilterOptionsByCate(category) {\n  switch (category) {\n    case \"price range\":\n      return [\n        \"Below $40,000\",\n        \"$40,000 - $80,000\",\n        \"$80,000 - $130,000\",\n        \"$130,000 - $200,000\",\n        \"$200,000 - $400,000\",\n        \"$400,000 - $800,000\",\n        \"Above $800,000\",\n      ];\n\n    case \"brand\":\n      return getCarSellFilterBrandOptions();\n    case \"model\":\n      return getCarSellFilterModelOptions();\n    case \"built year\":\n      return getCarSellFilterBuiltYearOptions();\n  }\n}\n\nfunction getCarSellFilterBrandOptions() {\n  return baseOptions\n    .filter((ele) => ele.parent_cat_id === \"003\")\n    .map((ele) => {\n      return { name: ele.name, car_id: ele.cat_id };\n    });\n}\n\nasync function getCarSellFilterModelOptions() {\n  const brand_name = getCarSellFilterValue(\"brand\");\n  const cat = baseOptions.find((ele) => ele.name === brand_name);\n\n  let options = brandStore.getModelOptions(cat?.cat_id);\n\n  if (options.length == 0) {\n    options = (await brandStore.fetchModel(\n      cat?.cat_id,\n      brand_name\n    )) as Category[];\n  }\n  return options;\n}\n\nasync function getCarSellFilterBuiltYearOptions() {\n  const model_name = getCarSellFilterValue(\"model\");\n  const cat_id = brandStore.getModelCatID(model_name);\n\n  let options = modelStore.getModelDetailsOptions(cat_id);\n  if (options.length == 0) {\n    options = (await modelStore.fetchModelDetails(\n      cat_id,\n      model_name\n    )) as Category[];\n  }\n\n  return options;\n}\n\nexport default function useSellCarFilterOptions() {\n  return {\n    getCarSellFilterOptionsByCate,\n  };\n}\n","import { defineStore } from \"pinia\";\nimport useBaseFetch from \"@/hooks/useBaseFetch\";\n\nimport { Category } from \"@/model/SearchCar\";\n\ninterface BrandState {\n  modelList: Category[];\n}\n\nexport const useBrandStore = defineStore(\"brandStore\", {\n  state: (): BrandState => ({\n    modelList: [],\n  }),\n\n  getters: {\n    getModelOptions: (state) => (cat_id) => {\n      const options = state.modelList.filter(\n        (ele) => ele.parent_cat_id == cat_id\n      );\n      return options;\n    },\n    getModelCatID: (state) => (brand_name) => {\n      const brand = state.modelList.find((ele) => ele.name == brand_name);\n      return brand?.cat_id;\n    },\n  },\n\n  actions: {\n    // addBrand(brand) {},\n    // deleteBrand(brandID) {},\n\n    async fetchModel(cat_id, brand_name) {\n      try {\n        const response = await useBaseFetch()(\n          \"/api/options/car-brand/\" + brand_name\n        );\n        const { success, data, message } = response;\n\n        let id = 0;\n        console.log(data);\n\n        if (success) {\n          const categories: Category[] = data.map((ele) => ({\n            name: ele,\n            cat_id: `${cat_id}${id++}`,\n            parent_cat_id: cat_id,\n          }));\n\n          this.modelList.push(...categories);\n          return categories;\n        }\n      } catch (error) {\n        // alert(error)\n        console.log(error);\n      }\n    },\n  },\n});\n","import { defineStore } from \"pinia\";\nimport useBaseFetch from \"@/hooks/useBaseFetch\";\n\nimport { Category } from \"@/model/SearchCar\";\n\ninterface ModelDetailsState {\n  modelDetailsList: Category[];\n}\n\nexport const useModelStore = defineStore(\"modelStore\", {\n  state: (): ModelDetailsState => ({\n    modelDetailsList: [],\n  }),\n\n  getters: {\n    getModelDetailsOptions: (state) => (cat_id) => {\n      const options = state.modelDetailsList.filter(\n        (ele) => ele.parent_cat_id == cat_id\n      );\n      return options;\n    },\n    getModelDetails: (state) => (model_name) => {\n      const model = state.modelDetailsList.find(\n        (ele) => ele.name == model_name\n      );\n      return model;\n    },\n  },\n\n  actions: {\n    // addModel(model) {},\n    // deleteModel(modelID) {},\n\n    async fetchModelDetails(cat_id, model_name) {\n      try {\n        const response = await useBaseFetch()(\n          \"/api/options/car-model/\" + model_name\n        );\n        const { success, data, message } = response;\n\n        let id = 0;\n        console.log(data);\n\n        if (success) {\n          const categories: Category[] = data.map((ele) => ({\n            ...ele,\n            cat_id: `${cat_id}${id++}`,\n            parent_cat_id: cat_id,\n          }));\n\n          this.modelDetailsList.push(...categories);\n          return categories;\n        }\n      } catch (error) {\n        // alert(error)\n        console.log(error);\n      }\n    },\n  },\n});\n","import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeStyle as _normalizeStyle, toDisplayString as _toDisplayString, withCtx as _withCtx, createVNode as _createVNode, renderSlot as _renderSlot } from \"vue\";\nconst _hoisted_1 = {\n  slot: \"start\",\n  class: \"mr-3 text-xl\"\n};\nconst _hoisted_2 = {\n  class: \"pr-2 mt-0.5\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  const _component_ion_label = _resolveComponent(\"ion-label\");\n  const _component_ion_item = _resolveComponent(\"ion-item\");\n  return !_ctx.disabled ? (_openBlock(), _createBlock(_component_ion_item, {\n    key: 0,\n    button: \"\",\n    detail: false,\n    lines: \"none\",\n    class: \"border-gray-200 mx-4 border-x-2 border-t-2\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_ctx.selected ? (_openBlock(), _createBlock(_component_font_awesome_icon, {\n      key: 0,\n      class: \"text-primary\",\n      icon: ['fas', 'circle-check']\n    })) : (_openBlock(), _createBlock(_component_font_awesome_icon, {\n      key: 1,\n      icon: ['far', 'circle']\n    }))]), _createElementVNode(\"div\", _hoisted_2, [_ctx.category == 'Colour' || _ctx.category == 'Exterior Colour' || _ctx.category == 'Interior Colour' ? (_openBlock(), _createBlock(_component_font_awesome_icon, {\n      key: 0,\n      icon: ['fa-solid', 'fa-circle'],\n      class: \"fa-border\",\n      style: _normalizeStyle([{\n        \"--fa-border-color\": \"#e9e9e9\",\n        \"--fa-border-radius\": \"100%\",\n        \"--fa-border-padding\": \"0px\",\n        \"--fa-border-width\": \"1px\"\n      }, {\n        color: _ctx.title\n      }])\n    }, null, 8, [\"style\"])) : _createCommentVNode(\"\", true)]), _createVNode(_component_ion_label, null, {\n      default: _withCtx(() => [_createElementVNode(\"h2\", null, _toDisplayString(_ctx.$t(_ctx.title)), 1)]),\n      _: 1\n    }), _renderSlot(_ctx.$slots, \"default\")]),\n    _: 3\n  })) : _createCommentVNode(\"\", true);\n}","import { defineComponent } from \"vue\";\nexport default defineComponent({\n  name: \"ListSelectItem\",\n  props: {\n    title: {\n      type: String,\n      default: \"\",\n      required: true\n    },\n    selected: {\n      type: Boolean,\n      default: false,\n      required: true\n    },\n    category: {\n      type: String,\n      default: \"\",\n      required: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    }\n  }\n});","/* unplugin-vue-components disabled */import { render } from \"./ListSelectItem.vue?vue&type=template&id=6416bcd7&ts=true\"\nimport script from \"./ListSelectItem.vue?vue&type=script&lang=ts\"\nexport * from \"./ListSelectItem.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/tomleung/Documents/CarSearch project/Car-Trading-App/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, renderSlot as _renderSlot } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.range, current => {\n    return _renderSlot(_ctx.$slots, \"default\", {\n      key: current,\n      current: current + 1,\n      selected: _ctx.isSelected(current + 1),\n      setValueIdx: _ctx.setValueIdx,\n      getValue: _ctx.getValue\n    });\n  }), 128);\n}","import { defineComponent, computed } from \"vue\";\nimport useSellCarFilter from \"@/hooks/sell/useSellCarFilter\";\nexport default defineComponent({\n  name: \"SellCarFilterSelectManager\",\n  props: [\"options\", \"attr\"],\n  setup(props) {\n    const {\n      setCarSellFilterValue,\n      resetCarSellFilterValue,\n      getCarSellFilterValue\n    } = useSellCarFilter();\n    const getValue = computed(() => getCarSellFilterValue(props.attr));\n    // state\n    const valueIdx = computed(() => props.options.indexOf(getValue.value) + 1);\n    const range = computed(() => {\n      return [...Array(props.options.length).keys()];\n    });\n    // state functions\n    const isSelected = current => {\n      return valueIdx.value == current;\n    };\n    const setValueIdx = current => {\n      if (current !== valueIdx.value) {\n        setCarSellFilterValue(props.attr, props.options[current - 1]);\n        if (props.attr == \"brand\") {\n          resetCarSellFilterValue(\"model\");\n          resetCarSellFilterValue(\"built year\");\n        }\n        if (props.attr == \"model\") {\n          resetCarSellFilterValue(\"built year\");\n        }\n      } else {\n        resetCarSellFilterValue(props.attr);\n        if (props.attr == \"brand\") {\n          resetCarSellFilterValue(\"model\");\n          resetCarSellFilterValue(\"built year\");\n        }\n        if (props.attr == \"model\") {\n          resetCarSellFilterValue(\"built year\");\n        }\n      }\n    };\n    return {\n      valueIdx,\n      range,\n      isSelected,\n      setValueIdx,\n      getValue\n    };\n  }\n});","/* unplugin-vue-components disabled */import { render } from \"./SellCarFilterSelectManager.vue?vue&type=template&id=819bd22a&ts=true\"\nimport script from \"./SellCarFilterSelectManager.vue?vue&type=script&lang=ts\"\nexport * from \"./SellCarFilterSelectManager.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/tomleung/Documents/CarSearch project/Car-Trading-App/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["brandStore","useBrandStore","modelStore","useModelStore","getCarSellFilterValue","useSellCarFilter","getCarSellFilterOptionsByCate","category","getCarSellFilterBrandOptions","getCarSellFilterModelOptions","getCarSellFilterBuiltYearOptions","baseOptions","ele","parent_cat_id","map","name","car_id","cat_id","async","brand_name","cat","options","getModelOptions","length","fetchModel","model_name","getModelCatID","getModelDetailsOptions","fetchModelDetails","useSellCarFilterOptions","defineStore","state","modelList","getters","filter","brand","find","actions","response","useBaseFetch","success","data","message","id","console","log","categories","this","push","error","modelDetailsList","getModelDetails","model","_hoisted_1","slot","class","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","_component_font_awesome_icon","_component_ion_label","_component_ion_item","disabled","key","button","detail","lines","default","_","selected","icon","style","color","title","$t","$slots","props","type","String","required","Boolean","__exports__","range","current","isSelected","setValueIdx","getValue","setup","setCarSellFilterValue","resetCarSellFilterValue","attr","valueIdx","indexOf","value","Array","keys"],"sourceRoot":""}