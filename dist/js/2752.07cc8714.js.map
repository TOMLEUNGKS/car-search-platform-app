{"version":3,"file":"js/2752.07cc8714.js","mappings":"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","sources":["webpack://ionic-car-trading/./src/components/Common/Form/FormInput.vue","webpack://ionic-car-trading/./src/components/Common/Form/FormInput.vue?16a6","webpack://ionic-car-trading/./src/components/Users/LoginContainer.vue","webpack://ionic-car-trading/./src/components/Users/LoginContainer.vue?c8a7","webpack://ionic-car-trading/./src/views/User/LoginPage.vue?609c","webpack://ionic-car-trading/./src/views/User/LoginPage.vue","webpack://ionic-car-trading/./src/views/User/LoginPage.vue?35df"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue';\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport default /*#__PURE__*/_defineComponent({\n  props: [\"type\", \"placeholder\", \"modelValue\", \"error\", \"errMsg\"],\n  emits: [\"update:modelValue\"],\n  setup(__props) {\n    return (_ctx, _cache) => {\n      const _component_ion_input = _resolveComponent(\"ion-input\");\n      const _component_ion_item = _resolveComponent(\"ion-item\");\n      return _openBlock(), _createBlock(_component_ion_item, null, {\n        default: _withCtx(() => [_createVNode(_component_ion_input, {\n          class: \"w-80 p-4\",\n          type: __props.type,\n          placeholder: __props.placeholder,\n          value: __props.modelValue,\n          onInput: _cache[0] || (_cache[0] = $event => _ctx.$emit('update:modelValue', $event.target.value))\n        }, null, 8, [\"type\", \"placeholder\", \"value\"])]),\n        _: 1\n      });\n    };\n  }\n});","/* unplugin-vue-components disabled */import script from \"./FormInput.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./FormInput.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","/* unplugin-vue-components disabled */import { IonButton as __unplugin_components_2 } from '@ionic/vue';\nimport { IonNote as __unplugin_components_1 } from '@ionic/vue';\nimport __unplugin_components_0 from '/Users/tomleung/Documents/CarSearch project/Car-Trading-App/src/components/Common/Form/FormInput.vue';\nimport { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"formContainer flex items-center justify-center\"\n};\nconst _hoisted_2 = {\n  class: \"formWrapper flex flex-col items-center p-6 gap-4\"\n};\nconst _hoisted_3 = {\n  class: \"font-bold text-primary\"\n};\nconst _hoisted_4 = [\"onSubmit\"];\nconst _hoisted_5 = {\n  key: 0,\n  class: \"text-red-500\"\n};\nconst _hoisted_6 = {\n  class: \"underline text-blue-800\"\n};\nimport useValidate from \"@vuelidate/core\";\nimport { required, email, minLength, helpers } from \"@vuelidate/validators\";\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n    const {\n      handleSignIn\n    } = useAuthUser();\n    const router = useRouter();\n    // data\n    let errorMsg = ref(null);\n    const formState = reactive({\n      email: \"\",\n      password: \"\"\n    });\n    const rules = computed(() => {\n      return {\n        email: {\n          required: helpers.withMessage(\"email is required\", required),\n          email: helpers.withMessage(\"invalid email\", email)\n        },\n        password: {\n          required: helpers.withMessage(\"password is required\", required),\n          minLength: minLength(8)\n        }\n      };\n    });\n    const $v = useValidate(rules, formState);\n    const handleSubmit = async e => {\n      $v.value.$validate();\n      if ($v.value.$error) {\n        return;\n      }\n      await showLoading();\n      const email = formState.email;\n      const password = formState.password;\n      try {\n        await handleSignIn(email, password);\n        await closeLoading();\n        router.replace(\"/\");\n      } catch (error) {\n        await closeLoading();\n        if (error instanceof Error) {\n          errorMsg.value = error.message;\n        }\n        errorMsg.value = String(error);\n        // const errorCode = error.code;\n        // const errorMessage = error.message;\n      }\n    };\n\n    return (_ctx, _cache) => {\n      const _component_FormInput = __unplugin_components_0;\n      const _component_ion_note = __unplugin_components_1;\n      const _component_ion_button = __unplugin_components_2;\n      const _component_router_link = _resolveComponent(\"router-link\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"span\", _hoisted_3, _toDisplayString(_ctx.$t(\"Login\")), 1), _createElementVNode(\"form\", {\n        class: \"flex flex-col gap-3\",\n        onSubmit: _withModifiers(handleSubmit, [\"prevent\"])\n      }, [_createVNode(_component_FormInput, {\n        type: \"text\",\n        placeholder: \"email\",\n        modelValue: _unref(formState).email,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _unref(formState).email = $event)\n      }, null, 8, [\"modelValue\"]), _unref($v).email.$error ? (_openBlock(), _createBlock(_component_ion_note, {\n        key: 0,\n        color: \"danger\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_unref($v).email.$errors[0].$message), 1)]),\n        _: 1\n      })) : _createCommentVNode(\"\", true), _createVNode(_component_FormInput, {\n        type: \"password\",\n        placeholder: \"password\",\n        modelValue: _unref(formState).password,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _unref(formState).password = $event)\n      }, null, 8, [\"modelValue\"]), _unref($v).password.$error ? (_openBlock(), _createBlock(_component_ion_note, {\n        key: 1,\n        color: \"danger\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_unref($v).password.$errors[0].$message), 1)]),\n        _: 1\n      })) : _createCommentVNode(\"\", true), _createVNode(_component_ion_button, {\n        type: \"submit\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$t(\"SIGN IN\")), 1)]),\n        _: 1\n      })], 40, _hoisted_4), _unref(errorMsg) ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, _toDisplayString(_unref(errorMsg)), 1)) : _createCommentVNode(\"\", true), _createElementVNode(\"p\", null, [_createTextVNode(_toDisplayString(_ctx.$t(\"You don't have an account?\")) + \" \", 1), _createVNode(_component_router_link, {\n        to: \"/register\",\n        replace: \"\"\n      }, {\n        default: _withCtx(() => [_createElementVNode(\"span\", _hoisted_6, _toDisplayString(_ctx.$t(\"Register\")), 1)]),\n        _: 1\n      })])])]);\n    };\n  }\n});","/* unplugin-vue-components disabled */import script from \"./LoginContainer.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LoginContainer.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_LoginContainer = _resolveComponent(\"LoginContainer\");\n  const _component_base_back_layout = _resolveComponent(\"base-back-layout\");\n  return _openBlock(), _createBlock(_component_base_back_layout, null, {\n    default: _withCtx(() => [_createVNode(_component_LoginContainer)]),\n    _: 1\n  });\n}","import { defineComponent } from \"vue\";\nimport BaseBackLayout from \"@/components/Common/BaseBackLayout.vue\";\nimport LoginContainer from \"@/components/Users/LoginContainer.vue\";\nexport default defineComponent({\n  components: {\n    BaseBackLayout,\n    LoginContainer\n  },\n  setup() {\n    return;\n  }\n});","/* unplugin-vue-components disabled */import { render } from \"./LoginPage.vue?vue&type=template&id=36d6c57b&ts=true\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=ts\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/tomleung/Documents/CarSearch project/Car-Trading-App/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["props","emits","setup","__props","_ctx","_cache","_component_ion_input","_component_ion_item","default","class","type","placeholder","value","modelValue","onInput","$event","$emit","target","_","__exports__","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","key","_hoisted_6","handleSignIn","useAuthUser","router","errorMsg","formState","email","password","rules","required","minLength","$v","handleSubmit","async","$validate","$error","replace","error","Error","message","String","_component_FormInput","_component_ion_note","_component_ion_button","_component_router_link","$t","onSubmit","color","$errors","$message","to","render","$props","$setup","$data","$options","_component_LoginContainer","_component_base_back_layout","components","BaseBackLayout","LoginContainer"],"sourceRoot":""}