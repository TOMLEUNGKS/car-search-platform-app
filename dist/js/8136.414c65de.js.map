{"version":3,"file":"js/8136.414c65de.js","mappings":"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","sources":["webpack://ionic-car-trading/./src/components/Common/Form/FormInput.vue","webpack://ionic-car-trading/./src/components/Common/Form/FormInput.vue?16a6","webpack://ionic-car-trading/./src/components/Users/RegisterContainer.vue","webpack://ionic-car-trading/./src/components/Users/RegisterContainer.vue?db18","webpack://ionic-car-trading/./src/views/User/RegisterPage.vue?4e90","webpack://ionic-car-trading/./src/views/User/RegisterPage.vue","webpack://ionic-car-trading/./src/views/User/RegisterPage.vue?068e"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue';\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport default /*#__PURE__*/_defineComponent({\n  props: [\"type\", \"placeholder\", \"modelValue\", \"error\", \"errMsg\"],\n  emits: [\"update:modelValue\"],\n  setup(__props) {\n    return (_ctx, _cache) => {\n      const _component_ion_input = _resolveComponent(\"ion-input\");\n      const _component_ion_item = _resolveComponent(\"ion-item\");\n      return _openBlock(), _createBlock(_component_ion_item, null, {\n        default: _withCtx(() => [_createVNode(_component_ion_input, {\n          class: \"w-80 p-4\",\n          type: __props.type,\n          placeholder: __props.placeholder,\n          value: __props.modelValue,\n          onInput: _cache[0] || (_cache[0] = $event => _ctx.$emit('update:modelValue', $event.target.value))\n        }, null, 8, [\"type\", \"placeholder\", \"value\"])]),\n        _: 1\n      });\n    };\n  }\n});","/* unplugin-vue-components disabled */import script from \"./FormInput.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./FormInput.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","/* unplugin-vue-components disabled */import { IonButton as __unplugin_components_2 } from '@ionic/vue';\nimport { IonNote as __unplugin_components_1 } from '@ionic/vue';\nimport __unplugin_components_0 from '/Users/tomleung/Documents/CarSearch project/Car-Trading-App/src/components/Common/Form/FormInput.vue';\nimport { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"formContainer flex items-center justify-center\"\n};\nconst _hoisted_2 = {\n  class: \"formWrapper flex flex-col items-center p-6 gap-4\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"font-bold text-primary\"\n}, \"Register\", -1);\nconst _hoisted_4 = [\"onSubmit\"];\nconst _hoisted_5 = /*#__PURE__*/_createTextVNode(\"Sign up\");\nconst _hoisted_6 = /*#__PURE__*/_createTextVNode(\" You do have an account? \");\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"underline text-blue-800\"\n}, \" Login \", -1);\nimport useValidate from \"@vuelidate/core\";\nimport { required, email, minLength, sameAs, helpers } from \"@vuelidate/validators\";\nimport { alertController } from \"@ionic/vue\";\n//composables\nexport default /*#__PURE__*/_defineComponent({\n  setup(__props) {\n    const router = useRouter();\n    const {\n      handleRegister\n    } = useAuthUser();\n    // data\n    let errorMsg = ref(null);\n    const formState = reactive({\n      displayName: \"\",\n      email: \"\",\n      password: {\n        password: \"\",\n        confirm: \"\"\n      }\n    });\n    const rules = computed(() => {\n      return {\n        displayName: {\n          required: helpers.withMessage(\"display name is required\", required),\n          minLength: minLength(6)\n        },\n        email: {\n          required: helpers.withMessage(\"email is required\", required),\n          email: helpers.withMessage(\"invalid email\", email)\n        },\n        password: {\n          password: {\n            required: helpers.withMessage(\"password is required\", required),\n            minLength: minLength(8)\n          },\n          confirm: {\n            required: helpers.withMessage(\"confirm password is required\", required),\n            sameAs: sameAs(formState.password.password)\n          }\n        }\n      };\n    });\n    const $v = useValidate(rules, formState);\n    // methods\n    const handleSubmit = async e => {\n      $v.value.$validate();\n      if ($v.value.$error) {\n        return;\n      }\n      await showLoading();\n      const displayName = formState.displayName;\n      const email = formState.email;\n      const password = formState.password.password;\n      try {\n        await handleRegister(displayName, email, password);\n        await closeLoading();\n        router.replace(\"/\");\n      } catch (error) {\n        await closeLoading();\n        let msg = \"Could not sign you up. Please try again.\";\n        if (e.code == \"auth/email-already-in-use\") {\n          msg = \"Email already in use\";\n        }\n        presentAlert(msg);\n        // const errorCode = error.code;\n        // const errorMessage = error.message;\n      }\n    };\n\n    const presentAlert = async msg => {\n      const alert = await alertController.create({\n        header: \"Alert\",\n        message: msg,\n        buttons: [\"OK\"]\n      });\n      await alert.present();\n    };\n    return (_ctx, _cache) => {\n      const _component_FormInput = __unplugin_components_0;\n      const _component_ion_note = __unplugin_components_1;\n      const _component_ion_button = __unplugin_components_2;\n      const _component_router_link = _resolveComponent(\"router-link\");\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"form\", {\n        class: \"flex flex-col gap-3\",\n        onSubmit: _withModifiers(handleSubmit, [\"prevent\"])\n      }, [_createVNode(_component_FormInput, {\n        type: \"text\",\n        placeholder: \"display name\",\n        modelValue: _unref(formState).displayName,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _unref(formState).displayName = $event)\n      }, null, 8, [\"modelValue\"]), _unref($v).displayName.$error ? (_openBlock(), _createBlock(_component_ion_note, {\n        key: 0,\n        color: \"danger\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_unref($v).displayName.$errors[0].$message), 1)]),\n        _: 1\n      })) : _createCommentVNode(\"\", true), _createVNode(_component_FormInput, {\n        type: \"text\",\n        placeholder: \"email\",\n        modelValue: _unref(formState).email,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _unref(formState).email = $event)\n      }, null, 8, [\"modelValue\"]), _unref($v).email.$error ? (_openBlock(), _createBlock(_component_ion_note, {\n        key: 1,\n        color: \"danger\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_unref($v).email.$errors[0].$message), 1)]),\n        _: 1\n      })) : _createCommentVNode(\"\", true), _createVNode(_component_FormInput, {\n        type: \"password\",\n        placeholder: \"password\",\n        modelValue: _unref(formState).password.password,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _unref(formState).password.password = $event)\n      }, null, 8, [\"modelValue\"]), _unref($v).password.password.$error ? (_openBlock(), _createBlock(_component_ion_note, {\n        key: 2,\n        color: \"danger\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_unref($v).password.password.$errors[0].$message), 1)]),\n        _: 1\n      })) : _createCommentVNode(\"\", true), _createVNode(_component_FormInput, {\n        type: \"password\",\n        placeholder: \"confirm password\",\n        modelValue: _unref(formState).password.confirm,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _unref(formState).password.confirm = $event)\n      }, null, 8, [\"modelValue\"]), _unref($v).password.confirm.$error ? (_openBlock(), _createBlock(_component_ion_note, {\n        key: 3,\n        color: \"danger\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(_unref($v).password.confirm.$errors[0].$message), 1)]),\n        _: 1\n      })) : _createCommentVNode(\"\", true), _createVNode(_component_ion_button, {\n        type: \"submit\"\n      }, {\n        default: _withCtx(() => [_hoisted_5]),\n        _: 1\n      })], 40, _hoisted_4), _createElementVNode(\"p\", null, [_hoisted_6, _createVNode(_component_router_link, {\n        to: \"/sign-in\",\n        replace: \"\"\n      }, {\n        default: _withCtx(() => [_hoisted_7]),\n        _: 1\n      })])])]);\n    };\n  }\n});","/* unplugin-vue-components disabled */import script from \"./RegisterContainer.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./RegisterContainer.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_RegisterContainer = _resolveComponent(\"RegisterContainer\");\n  const _component_base_back_layout = _resolveComponent(\"base-back-layout\");\n  return _openBlock(), _createBlock(_component_base_back_layout, null, {\n    default: _withCtx(() => [_createVNode(_component_RegisterContainer)]),\n    _: 1\n  });\n}","import { defineComponent } from \"vue\";\nimport BaseBackLayout from \"@/components/Common/BaseBackLayout.vue\";\nimport RegisterContainer from \"@/components/Users/RegisterContainer.vue\";\nexport default defineComponent({\n  components: {\n    BaseBackLayout,\n    RegisterContainer\n  },\n  setup() {\n    return;\n  }\n});","/* unplugin-vue-components disabled */import { render } from \"./RegisterPage.vue?vue&type=template&id=4405d572&ts=true\"\nimport script from \"./RegisterPage.vue?vue&type=script&lang=ts\"\nexport * from \"./RegisterPage.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/tomleung/Documents/CarSearch project/Car-Trading-App/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["props","emits","setup","__props","_ctx","_cache","_component_ion_input","_component_ion_item","default","class","type","placeholder","value","modelValue","onInput","$event","$emit","target","_","__exports__","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","router","handleRegister","useAuthUser","formState","displayName","email","password","confirm","rules","required","minLength","sameAs","$v","handleSubmit","async","$validate","$error","replace","error","msg","e","code","presentAlert","alert","header","message","buttons","present","_component_FormInput","_component_ion_note","_component_ion_button","_component_router_link","onSubmit","key","color","$errors","$message","to","render","$props","$setup","$data","$options","_component_RegisterContainer","_component_base_back_layout","components","BaseBackLayout","RegisterContainer"],"sourceRoot":""}