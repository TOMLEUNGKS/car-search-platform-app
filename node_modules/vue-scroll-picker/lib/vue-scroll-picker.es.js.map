{"version":3,"file":"vue-scroll-picker.es.js","sources":["../src/components/picker.ts","../src/index.ts"],"sourcesContent":["import { defineComponent, PropType, h, renderSlot, VNode } from 'vue'\n\n\nfunction debounce<TFunc extends Function>(handle: TFunc, delay = 83): TFunc { // eslint-disable-line @typescript-eslint/ban-types\n  let timeout = null as any\n  return function (this: any) {\n    if (timeout) {\n      clearTimeout(timeout)\n      timeout = null\n    }\n    const self = this // eslint-disable-line no-invalid-this,@typescript-eslint/no-this-alias\n    const args = arguments // eslint-disable-line prefer-rest-params\n    timeout = setTimeout(() => handle.apply(self, args), delay)\n  } as any as TFunc\n}\n\nfunction getBoundingClientCenterY(elem: HTMLElement) {\n  const { top, bottom } = elem.getBoundingClientRect()\n  return (top + bottom) / 2\n}\n\nfunction normalizeOptions(options: ScrollPickerOptionable[]): ScrollPickerOption[] {\n  return options.map((option) => {\n    switch (typeof option) {\n      case 'string': {\n        return { value: option, name: option }\n      }\n      case 'number':\n      case 'boolean': {\n        return { value: option, name: `${option}` }\n      }\n    }\n    return option\n  })\n}\n\nfunction isTouchEvent(event: any): event is TouchEvent {\n  return event.changedTouches || event.touches\n}\n\nfunction getEventXY(event: TouchEvent | MouseEvent): { clientX: number, clientY: number } {\n  if (isTouchEvent(event)) {\n    return event.changedTouches[0] || event.touches[0]\n  }\n  return event\n}\n\ntype MouseWheelEvent = MouseEvent & { deltaY: number }\n\nexport interface ScrollPickerOption {\n  name: string\n  value: any\n}\n\nexport type ScrollPickerOptionable = string | number | boolean | ScrollPickerOption\n\nexport default defineComponent({\n  props: {\n    modelValue: null,\n    options: {\n      type: Array as PropType<ScrollPickerOptionable[]>,\n      default: () => [],\n    },\n    dragSensitivity: {\n      type: Number,\n      default: 1.7,\n    },\n    touchSensitivity: {\n      type: Number,\n      default: 1.7,\n    },\n    scrollSensitivity: {\n      type: Number,\n      default: 1,\n    },\n    empty: {\n      type: String,\n      default: 'No Items',\n    },\n    placeholder: {\n      type: String,\n      default: null,\n    },\n  },\n  data() {\n    const internalOptions = normalizeOptions(this.options)\n\n    let internalIndex = internalOptions.findIndex(option => option.value == this.modelValue)\n    if (internalIndex === -1 && !this.placeholder && !this.$slots.placeholder && this.options.length > 0) {\n      internalIndex = 0\n    }\n    const internalValue = internalOptions[internalIndex]?.value ?? null\n\n    return {\n      refItems: [] as HTMLDivElement[],\n\n      internalOptions,\n      internalIndex,\n      internalValue,\n\n      pivots: [] as number[],\n      pivotsMin: 0,\n      pivotsMax: 0,\n\n      scroll: null as number | null,\n      scrollOffsetTop: 0,\n      scrollMin: 0,\n      scrollMax: 0,\n\n      transitioning: false,\n      transitionTimer: null as any | null,\n\n      start: null as [scroll: number, clientY: number] | null,\n\n      isMouseDown: false,\n      isDragging: false,\n    }\n  },\n  beforeUpdate() {\n    this.refItems = []\n  },\n  mounted() {\n    this.calculatePivots()\n    this.scroll = this.findScrollByIndex(this.internalIndex)\n    if (this.internalValue !== this.modelValue) {\n      this.$emit('update:modelValue', this.internalValue)\n    }\n\n    const $el = this.$el as HTMLDivElement\n\n    $el.addEventListener('touchstart', this.onStart)\n    $el.addEventListener('touchmove', this.onMove)\n    $el.addEventListener('touchend', this.onEnd)\n    $el.addEventListener('touchcancel', this.onCancel)\n\n    $el.addEventListener('mousewheel', this.onWheel as any)\n    $el.addEventListener('DOMMouseScroll', this.onWheel as any)\n    $el.addEventListener('wheel', this.onWheel)\n    $el.addEventListener('mousedown', this.onStart)\n    $el.addEventListener('mousemove', this.onMove)\n    $el.addEventListener('mouseup', this.onEnd)\n    $el.addEventListener('mouseleave', this.onCancel)\n\n  },\n  beforeUnmount() {\n    const $el = this.$el as HTMLDivElement\n\n    $el.removeEventListener('touchstart', this.onStart)\n    $el.removeEventListener('touchmove', this.onMove)\n    $el.removeEventListener('touchend', this.onEnd)\n    $el.removeEventListener('touchcancel', this.onCancel)\n\n    $el.removeEventListener('mousewheel', this.onWheel as any)\n    $el.removeEventListener('DOMMouseScroll', this.onWheel as any)\n    $el.removeEventListener('wheel', this.onWheel)\n    $el.removeEventListener('mousedown', this.onStart)\n    $el.removeEventListener('mousemove', this.onMove)\n    $el.removeEventListener('mouseup', this.onEnd)\n    $el.removeEventListener('mouseleave', this.onCancel)\n  },\n  watch: {\n    modelValue(value: any) {\n      if ((value === null || value === undefined) && this.hasPlaceholder) {\n        this.correction(-1)\n        return\n      }\n\n      const nextInternalIndex = this.internalOptions.findIndex((option) => option.value == value)\n      if (nextInternalIndex === -1) {\n        this.$emit('update:modelValue', this.internalValue)\n        return\n      }\n\n      if (this.internalIndex !== nextInternalIndex) {\n        this.correction(nextInternalIndex)\n      }\n    },\n    options: {\n      handler(options: ScrollPickerOptionable[]) {\n        const internalOptions = this.internalOptions = normalizeOptions(options)\n\n        let internalIndex = internalOptions.findIndex(option => option.value == this.modelValue)\n        if (internalIndex === -1 && !this.hasPlaceholder && this.options.length > 0) {\n          internalIndex = 0\n        }\n        const internalValue = internalOptions[internalIndex]?.value ?? null\n\n        this.$nextTick(() => {\n          this.calculatePivots()\n          this.scroll = this.findScrollByIndex(internalIndex)\n          this.internalIndex = internalIndex\n          if (this.internalValue !== internalValue) {\n            this.$emit('update:modelValue', this.internalValue = internalValue)\n          }\n        })\n      },\n      deep: true,\n    },\n  },\n  computed: {\n    hasPlaceholder(): boolean {\n      return !!(this.placeholder || this.$slots.placeholder)\n    },\n  },\n  methods: {\n    setRefItem(el: HTMLDivElement) {\n      this.refItems.push(el)\n    },\n    resize() {\n      this.$nextTick(() => {\n        this.calculatePivots()\n        this.scroll = this.findScrollByIndex(this.internalIndex)\n      })\n    },\n    calculatePivots() {\n      const $rotator = this.$refs.rotator as HTMLDivElement\n      const $layerSelection = this.$refs.layerSelection as HTMLDivElement\n\n      const rotatorTop = $rotator.getBoundingClientRect().top\n      const pivots = this.pivots = this.refItems.map((item) => getBoundingClientCenterY(item) - rotatorTop).sort((a, b) => a - b)\n      const pivotsMin = this.pivotsMin = Math.min(...pivots)\n      const pivotsMax = this.pivotsMax = Math.max(...pivots)\n\n      const scrollOffsetTop = this.scrollOffsetTop = $layerSelection.offsetTop + $layerSelection.offsetHeight / 2\n\n      this.scrollMin = scrollOffsetTop - pivotsMin\n      this.scrollMax = scrollOffsetTop - pivotsMax\n    },\n    sanitizeInternalIndex(index: number): number {\n      return Math.min(Math.max(index, this.hasPlaceholder ? -1 : 0), this.internalOptions.length - 1)\n    },\n    findIndexFromScroll(scroll: number): number {\n      let prevDiff = null as number | null\n      let pivotIndex = 0\n      this.pivots.forEach((pivot, i) => {\n        const diff = pivot + scroll - this.scrollOffsetTop\n        if (prevDiff === null || Math.abs(prevDiff) > Math.abs(diff)) {\n          pivotIndex = i\n          prevDiff = diff\n        }\n      })\n      if (this.hasPlaceholder || this.options.length === 0) {\n        return pivotIndex - 1\n      }\n      return pivotIndex\n    },\n    findScrollByIndex(index: number): number {\n      let pivotIndex = index\n      if (this.hasPlaceholder || this.options.length === 0) {\n        pivotIndex++\n      }\n      if (index > -1 && pivotIndex in this.pivots) {\n        return this.scrollOffsetTop - this.pivots[pivotIndex]\n      }\n      if (index >= this.pivots.length) {\n        return this.scrollOffsetTop - this.pivotsMax\n      }\n      return this.scrollOffsetTop - this.pivotsMin\n\n    },\n    onWheel(event: MouseWheelEvent) {\n      if (this.scroll! >= this.scrollMin && event.deltaY < 0) { return }\n      if (this.scroll! <= this.scrollMax && event.deltaY > 0) { return }\n      if (this.pivots.length === 1) { return }\n\n      event.preventDefault()\n\n      const nextDirInternalIndex = this.sanitizeInternalIndex(this.internalIndex + (event.deltaY > 0 ? 1 : -1))\n      const deltaMax = event.deltaY > 0\n        ? this.findScrollByIndex(nextDirInternalIndex - 1) - this.findScrollByIndex(nextDirInternalIndex)\n        : this.findScrollByIndex(nextDirInternalIndex) - this.findScrollByIndex(nextDirInternalIndex + 1)\n\n      const deltaY = Math.max(Math.min(event.deltaY, deltaMax), deltaMax * -1)\n\n      this.scroll = Math.min(Math.max(this.scroll! - deltaY * this.scrollSensitivity, this.scrollMax), this.scrollMin)\n\n      const nextInternalIndex = this.sanitizeInternalIndex(this.findIndexFromScroll(this.scroll))\n      const nextInternalValue = this.internalOptions[nextInternalIndex]?.value ?? null\n\n      this.internalIndex = nextInternalIndex\n      if (this.internalValue !== nextInternalValue) {\n        this.$emit('update:modelValue', this.internalValue = nextInternalValue)\n      }\n\n      this.onAfterWheel(() => {\n        this.correction(this.findIndexFromScroll(this.scroll!))\n      })\n    },\n    onAfterWheel: debounce((handler: () => void) => {\n      handler()\n    }, 200),\n    onStart(event: TouchEvent | MouseEvent) {\n      if (event.cancelable) {\n        event.preventDefault()\n      }\n\n      const { clientY } = getEventXY(event)\n      this.start = [this.scroll!, clientY]\n      if (!isTouchEvent(event)) {\n        this.isMouseDown = true\n      }\n      this.isDragging = false\n    },\n    onMove(event: TouchEvent | MouseEvent) {\n      if (event.cancelable) {\n        event.preventDefault()\n      }\n      if (!this.start) {\n        return\n      }\n      const { clientY } = getEventXY(event)\n      const diff = clientY - this.start[1]\n      if (Math.abs(diff) > 1.5) {\n        this.isDragging = true\n      }\n      this.scroll = this.start[0] + diff * (isTouchEvent(event) ? this.touchSensitivity : this.dragSensitivity)\n    },\n    onEnd(event: TouchEvent | MouseEvent) {\n      if (event.cancelable) {\n        event.preventDefault()\n      }\n      if (this.isDragging) {\n        this.correction(this.findIndexFromScroll(this.scroll!))\n      } else if (this.isMouseDown) {\n        this.onClick(event)\n      }\n      this.start = null\n      this.isDragging = false\n      this.isMouseDown = false\n    },\n    onCancel(event: TouchEvent | MouseEvent) {\n      if (event.cancelable) {\n        event.preventDefault()\n      }\n      this.correction(this.findIndexFromScroll(this.scroll!))\n      this.start = null\n      this.isMouseDown = false\n      this.isDragging = false\n    },\n    onClick(event: TouchEvent | MouseEvent) {\n      const $layerTop = this.$refs.layerTop as HTMLDivElement\n      const $layerBottom = this.$refs.layerBottom as HTMLDivElement\n      const touchInfo = getEventXY(event)\n      const x = touchInfo.clientX\n      const y = touchInfo.clientY\n      const topRect = $layerTop.getBoundingClientRect()\n      const bottomRect = $layerBottom.getBoundingClientRect()\n\n      if (topRect.left <= x && x <= topRect.right && topRect.top <= y && y <= topRect.bottom) {\n        this.correction(this.internalIndex - 1)\n      } else if (bottomRect.left <= x && x <= bottomRect.right && bottomRect.top <= y && y <= bottomRect.bottom) {\n        this.correction(this.internalIndex + 1)\n      }\n    },\n    correction(index: number) {\n      const nextInternalIndex = this.sanitizeInternalIndex(index)\n      const nextInternalValue = this.internalOptions[nextInternalIndex]?.value ?? null\n      this.scroll = this.findScrollByIndex(nextInternalIndex)\n\n      this.transitioning = true\n      if (this.transitionTimer) {\n        clearTimeout(this.transitionTimer)\n        this.transitionTimer = null\n      }\n\n      this.transitionTimer = setTimeout(() => {\n        this.transitioning = false\n        this.transitionTimer = null\n\n        this.internalIndex = nextInternalIndex\n        if (this.internalValue !== nextInternalValue) {\n          this.$emit('update:modelValue', this.internalValue = nextInternalValue)\n        }\n      }, 100)\n    },\n  },\n  render() {\n    let nodes = [] as VNode[]\n    if (this.hasPlaceholder) {\n      nodes.push(h('div', {\n        class: [\n          'vue-scroll-picker-item',\n          'vue-scroll-picker-item-placeholder',\n          {\n            'vue-scroll-picker-item-selected': this.internalIndex === -1,\n          },\n        ],\n        ref: (el) => el && this.setRefItem(el as HTMLDivElement),\n      }, renderSlot(this.$slots, 'placeholder', { text: this.placeholder }, () => [\n        this.placeholder,\n      ])))\n    } else if (this.internalOptions.length === 0) {\n      nodes.push(h('div', {\n        class: [\n          'vue-scroll-picker-item',\n          'vue-scroll-picker-item-empty',\n          'vue-scroll-picker-item-selected',\n        ],\n        ref: (el) => el && this.setRefItem(el as HTMLDivElement),\n      }, renderSlot(this.$slots, 'empty', { text: this.empty }, () => [\n        this.empty,\n      ])))\n    }\n\n    nodes = nodes.concat(this.internalOptions.map((option, index) => {\n      return h('div', {\n        class: [\n          'vue-scroll-picker-item',\n          {\n            'vue-scroll-picker-item-selected': this.internalIndex === index,\n          },\n        ],\n        key: option.value,\n        ref: (el) => el && this.setRefItem(el as HTMLDivElement),\n      }, renderSlot(this.$slots, 'default', { option }, () => [\n        option.name,\n      ]))\n    }))\n    return h('div', {\n      class: [\n        'vue-scroll-picker',\n      ],\n    }, [\n      h('div', {\n        ref: 'rotator',\n        class: [\n          'vue-scroll-picker-rotator',\n          {\n            'vue-scroll-picker-rotator-transition': this.transitioning,\n          },\n        ],\n        style: typeof this.scroll === 'number' ? { top: `${this.scroll}px` } : {},\n      }, nodes),\n      h('div', { class: ['vue-scroll-picker-layer'] }, [\n        h('div', { class: ['vue-scroll-picker-layer-top'], ref: 'layerTop' }),\n        h('div', { class: ['vue-scroll-picker-layer-selection'], ref: 'layerSelection' }),\n        h('div', { class: ['vue-scroll-picker-layer-bottom'], ref: 'layerBottom' }),\n      ]),\n    ])\n  },\n})\n","import { App, Plugin } from 'vue'\n\nimport VueScrollPicker from './components/picker'\n\n\nexport function install(app: App) {\n  app.component('VueScrollPicker', VueScrollPicker)\n}\n\nif (typeof window !== 'undefined' && (window as any).Vue) {\n  install((window as any).Vue)\n}\n\nconst plugin: Plugin = {\n  install,\n}\n\nexport default plugin\n\n// re-define: https://github.com/vitejs/vite/issues/2117\nexport interface VueScrollPickerOption {\n  name: string\n  value: any\n}\n\nexport {\n  VueScrollPicker,\n}\n"],"names":[],"mappings":"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"}